.\"Modified from man(1) of FreeBSD, the NetBSD mdoc.template, and mdoc.samples.
.\"See Also:
.\"man mdoc.samples for a complete listing of options
.\"man mdoc for the short list of editing options
.\"/usr/share/misc/mdoc.template
.Dd 13/04/11                
.Dt crass 1       
.Os Darwin
.Sh NAME                 
.Nm crass
.Nd the CRISPR Assembler.
.Sh SYNOPSIS             
.Nm
\fBgenome
.Op Fl dhwlnosDSV
.Ao Em sequence_files Ac
.Nm 
\fBreads
.Op Fl dhklmorsDSV
.Op Fl "-dumpReads" 
.Em "READTYPE"  
.Ao Em sequence_files Ac
.Pp 
where READTYPE is one of the following:

.Op Fl "-illumina" 
.Op Fl "-454" 
.Op Fl "-sanger"
.Op Fl "-genome" 

.Sh DESCRIPTION         
.Nm
is a tool for finding and assembling reads from genomic and metagenomic datasets that contain 
.Em C Ns lustered
.Em R Ns egularly
.Em I Ns nterspersed
.Em S Ns hort
.Em P Ns alindromic
.Em R Ns epeats
(CRISPR).  
.Nm
searches through the dataset and identifies reads which contain repeated K-mers that are of a specific length and are 
separated by a spacer sequence.  These possible direct repeats are then curated internally to remove bad matches and 
then reads containing direct repeats are then outputed for further analysis.  
.Pp
The
.Nm
assembler uses the direct informtion to determine the linkages between the spacer units and outputs a .contigs file 
which contains all of the possible variations of the CRISPR based on the forking of the spacer linkages.

.Pp
.Sh COMMANDS AND OPTIONS

.Bl -tag -width -indent
.It \fBgenome 
.Nm
\fBgenome
.Op Fl hV
.Op Fl d Ar INT 
.Op Fl w Ar INT
.Op Fl l Ar INT
.Op Fl n Ar INT
.Op Fl o Ar LOCATION
.Op Fl s Ar INT
.Op Fl D Ar INT
.Op Fl S Ar INT
.Pp
Use 
.Nm
to search a genome or set of contigs for CRISPR elements.
The algorithm is based on the one described by 
 
.Bl -tag -width -indent 
.It Fl d Ar INT Fl "\^\-minDR" Ar INT             
The minimim length of the direct repeat to search for [Default: 23] 
.It Fl D Ar INT Fl "\^\-maxDR" Ar INT             
The Maximum length of the direct repeat to search for [Default: 47] 
.It Fl h Ar ""  Fl "\^\-help" Ar ""           
Output basic usage informtion to screen
.It Fl w Ar INT Fl "\^\-windowLength" Ar INT            
The length of the window size for searching a genome.  Must be between 6 - 9 [Default: 8]
.It Fl l Ar INT Fl "\^\-logLevel" Ar INT
The level of verbosity to ouput in the
.Nm 
log file 
.It Fl n Ar INT Fl "\^\-minNumRepeats" Ar INT            
The minimim number of repeats that a candidate CRISPR locus must contain to be considered 'real' [Default: 3]
.It Fl o Ar LOCATION  Fl "\^\-outDir" Ar LOCATION          
The name of the ouput directory for the output files [Default: .]
.It Fl s Ar INT Fl "\^\-minSpacer" Ar INT            
The minimim length of the spacer to search for [Default: 26]
.It Fl S Ar INT Fl "\^\-maxSpacer" Ar INT          
The maximim length of the spacer to search for [Default: 50]
.It Fl V   Ar ""  Fl "\^\-version" Ar ""        
Print version and copy right information
.El
.El
.Pp


.Bl -tag -width -indent
.It \fBreads
.Nm 
\fBreads
.Op Fl hrV
.Op Fl d Ar INT 
.Op Fl k Ar INT
.Op Fl l Ar INT
.Op Fl m Ar INT
.Op Fl o Ar LOCATION
.Op Fl s Ar INT
.Op Fl D Ar INT
.Op Fl S Ar INT
.Op Fl "-dumpReads"
.Op Fl "-454"
.Op Fl "-illumina"
.Op Fl "sanger"
.Bl -tag -width -indent 
.It Fl "-454" Ar ""
Specify that the input files have been sourced from 454 sequencing
.It Fl d Ar INT Fl "\^\-minDR" Ar INT             
The minimim length of the direct repeat to search for [Default: 23] 
.It Fl D Ar INT Fl "\^\-maxDR" Ar INT             
The Maximum length of the direct repeat to search for [Default: 47] 
.It Fl "\^\-dumpReads" Ar ""
Prints all of the reads to file after the search is completed
.It Fl h Ar ""  Fl "\^\-help" Ar ""           
Output basic usage informtion to screen
.It Fl "-illumina" Ar ""
Specify that the input files have been sourced from illumina sequencing
.It Fl k Ar INT Fl "\^\-kmerCount" Ar INT            
The number of kmers at two direct repeats must share to be considered part of the same cluster [Default: 8]
.It Fl l Ar INT Fl "\^\-logLevel" Ar INT
The level of verbosity to ouput in the
.Nm 
log file 
.It Fl m Ar INT Fl "\^\-maxMismatches" Ar INT            
The maximum number of mismatches to allow in the initial search for direct repeats [Default: 0]
.It Fl o Ar LOCATION  Fl "\^\-outDir" Ar LOCATION          
The name of the ouput directory for the output files [Default: .]
.It Fl r Ar ""  Fl "\^\-reportStats" Ar ""          
Output a statistics report on the CRISPR found by
.Nm
.It Fl s Ar INT Fl "\^\-minSpacer" Ar INT            
The minimim length of the spacer to search for [Default: 26]
.It Fl S Ar INT Fl "\^\-maxSpacer" Ar INT          
The maximim length of the spacer to search for [Default: 50]
.It Fl "-sanger" Ar ""
Specify that the input files have been sourced from sanger sequencing
.It Fl V   Ar ""  Fl "\^\-version" Ar ""        
Print version and copy right information
.El
.El
.Pp
.\" .Sh ENVIRONMENT      \" May not be needed
.\" .Bl -tag -width "ENV_VAR_1" -indent \" ENV_VAR_1 is width of the string ENV_VAR_1
.\" .It Ev ENV_VAR_1
.\" Description of ENV_VAR_1
.\" .It Ev ENV_VAR_2
.\" Description of ENV_VAR_2
.\" .El                      
.Sh FILES                
.Bl -tag -width -indent
.It Pa crass.log
Log file containing information about the last execution of 
.Nm
.It Pa Cluster_[INT].fa
Fasta file of all reads from a cluster created when the --dumpReads option is set.  
.It Pa crass.contigs
Fasta file containing the assembled CRISPR regions
.It Pa crass.stats
Delimited text file containing statistics on the CRISPR found by 
.Nm "." 
By default the delimiter is set to "\\t" however this can be changed with -b 
.El                      
.Sh DIAGNOSTICS       \" May not be needed
.Ex -std 
.\" .Bl -diag
.\" .It Diagnostic Tag
.\" Diagnostic informtion here.
.\" .It Diagnostic Tag
.\" Diagnostic informtion here.
.\" .El
.Sh SEE ALSO 
.Xr grep 1  
.\".Xr c 1 ,
.\".Xr a 2 ,
.\".Xr b 2 ,
.\".Xr a 3 ,
.\".Xr b 3 
.\" .Sh BUGS              \" Document known, unremedied bugs 
.\" .Sh HISTORY           \" Document history if command behaves in a unique manner